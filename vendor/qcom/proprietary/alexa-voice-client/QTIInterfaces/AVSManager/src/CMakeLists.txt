find_package(CURL ${CURL_PACKAGE_CONFIG})
#find_package(Threads ${THREADS_PACKAGE_CONFIG})

file(GLOB_RECURSE AVSManager_SRC "${AVSManager_SOURCE_DIR}/src/*.cpp")
add_library(AVSManager SHARED ${AVSManager_SRC})
target_include_directories(AVSManager PUBLIC "${CMAKE_SOURCE_DIR}/ThirdParty/MultipartParser")
target_include_directories(AVSManager PUBLIC ${CURL_INCLUDE_DIRS})
target_include_directories(AVSManager PUBLIC "${AVSManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AuthDelegate_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AFML_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AIP_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${SpeechSynthesizer_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AudioPlayer_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${Alerts_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${ContextManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${ACL_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AuthDelegate_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AVSCommon_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${QAHWManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${MediaPlayer_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${DefaultClient_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${AudioResources_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${ContextManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${QSTHWManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${RegistrationManager_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${CertifiedSender_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC "${Notifications_SOURCE_DIR}/include")
target_include_directories(AVSManager PUBLIC  "${SYSROOT_DIR}/usr/include"
    "${SYSROOT_DIR}/usr/include/gstreamer-1.0"
    "${SYSROOT_DIR}/usr/include/glib-2.0"
    "${SYSROOT_DIR}/usr/lib/glib-2.0/include")
target_include_directories(AVSManager PUBLIC "${SYSROOT_DIR}/usr/include/mm-audio/qsthw_api")
target_include_directories(AVSManager PUBLIC "${SYSROOT_DIR}/usr/include/system")

target_link_libraries(AVSManager ${CURL_LIBRARIES} ${GST_LIBS} ${CMAKE_THREAD_LIBS_INIT} ACL AuthDelegate AFML ADSL AIP SpeechSynthesizer SpeakerManager AudioPlayer Alerts AVSSystem DefaultClient AudioResources ContextManager AVSCommon MediaPlayer Settings QAHWManager PlaylistParser QSTHWManager RegistrationManager CertifiedSender Notifications pthread qgstaudiorecorder udev input evdev inputhelper cutils)
INSTALL(TARGETS AVSManager DESTINATION lib)
